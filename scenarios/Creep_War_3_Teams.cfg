#textdomain wesnoth-creep_war

#define CW_USE_THREE_TEAMS
#enddef
#define CW_MAX_CREEPS_PER_SIDE
7#enddef

{~add-ons/Creep_War/macros/Macros_3_Teams_New.cfg}
{~add-ons/Creep_War/data}

[multiplayer]
	id=Creep War 3 Teams v0.3.00
	name= _ "Creep War 3 Teams"
	map_data="{~add-ons/Creep_War/maps/Creep_War_3_Teams.map}"
	description= _ "3 Team Hero Battle with creeps for 3 or 6 players."
	experience_modifier=60
	turns=-1
	victory_when_enemies_defeated=yes
	random_start_time=yes
	{DEFAULT_SCHEDULE}
	{DEFAULT_MUSIC_PLAYLIST}
	
	{CW_HUMAN_PLAYER_SETTINGS West  1 1}
	{CW_HUMAN_PLAYER_SETTINGS East  2 1}
	{CW_CREEP_PLAYER_SETTINGS South 3}
	{CW_HUMAN_PLAYER_SETTINGS South 4 1}
	{CW_HUMAN_PLAYER_SETTINGS West  5 2}
	{CW_CREEP_PLAYER_SETTINGS East  6}
	{CW_HUMAN_PLAYER_SETTINGS East  7 2}
	{CW_HUMAN_PLAYER_SETTINGS South 8 2}
	{CW_CREEP_PLAYER_SETTINGS West  9}
	
	{CW_ADD_SHOP_TO_MAP 7   8}
	{CW_ADD_SHOP_TO_MAP 5  11}
	{CW_ADD_SHOP_TO_MAP 27  8}
	{CW_ADD_SHOP_TO_MAP 29 11}
	{CW_ADD_SHOP_TO_MAP 15 26}
	{CW_ADD_SHOP_TO_MAP 19 26}

	[label]
		x=16
		y=14
		text="0
0g"
	[/label]
	[label]
		x=18
		y=14
		text="0
0g"
	[/label]
	[label]
		x=17
		y=15
		text="0
0g"
	[/label]

	[event]
		name=prestart
		{CW_DEF_RESIST_ARRAY cw_resist}
		{CW_SHOP_SET_TEXT}
		{CW_ITEMS_INIT}
		{CW_CREEP_INIT}
		
		{VARIABLE cw_East_creeps_max {CW_MAX_CREEPS_PER_SIDE}}
		{VARIABLE cw_West_creeps_max {CW_MAX_CREEPS_PER_SIDE}}
		{VARIABLE cw_South_creeps_max {CW_MAX_CREEPS_PER_SIDE}}
		
		{VARIABLE team_West alive}
		{VARIABLE team_East alive}
		{VARIABLE team_South alive}
		{VARIABLE playing_teams 3}
		{VARIABLE damage_melee_1 0}
		{VARIABLE damage_melee_2 0}
		{VARIABLE damage_melee_4 0}
		{VARIABLE damage_melee_5 0}
		{VARIABLE damage_melee_7 0}
		{VARIABLE damage_melee_8 0}
		{VARIABLE damage_ranged_1 0}
		{VARIABLE damage_ranged_2 0}
		{VARIABLE damage_ranged_4 0}
		{VARIABLE damage_ranged_5 0}
		{VARIABLE damage_ranged_7 0}
		{VARIABLE damage_ranged_8 0}
		{VARIABLE strikes_melee_1 0}
		{VARIABLE strikes_melee_2 0}
		{VARIABLE strikes_melee_4 0}
		{VARIABLE strikes_melee_5 0}
		{VARIABLE strikes_melee_7 0}
		{VARIABLE strikes_melee_8 0}
		{VARIABLE strikes_ranged_1 0}
		{VARIABLE strikes_ranged_2 0}
		{VARIABLE strikes_ranged_4 0}
		{VARIABLE strikes_ranged_5 0}
		{VARIABLE strikes_ranged_7 0}
		{VARIABLE strikes_ranged_8 0}
		{VARIABLE cw_kills_West 0}
		{VARIABLE cw_kills_East 0}
		{VARIABLE cw_kills_South 0}
		{VARIABLE gold_West 0}
		{VARIABLE gold_East 0}
		{VARIABLE gold_South 0}
		{VARIABLE guard_West_plus_hitpoints 0}
		{VARIABLE guard_East_plus_hitpoints 0}
		{VARIABLE guard_South_plus_hitpoints 0}
		{VARIABLE guard_West_plus_melee_damage 0}
		{VARIABLE guard_East_plus_melee_damage 0}
		{VARIABLE guard_South_plus_melee_damage 0}
		{VARIABLE guard_West_plus_ranged_damage 0}
		{VARIABLE guard_East_plus_ranged_damage 0}
		{VARIABLE guard_South_plus_ranged_damage 0}
		{VARIABLE CW_Guard_East1 alive}
		{VARIABLE CW_Guard_East2 alive}
		{VARIABLE CW_Guard_West1 alive}
		{VARIABLE CW_Guard_West2 alive}
		{VARIABLE CW_Guard_South1 alive}
		{VARIABLE CW_Guard_South2 alive}
		{VARIABLE hero_1 on_start_pos}
		{VARIABLE hero_2 on_start_pos}
		{VARIABLE hero_4 on_start_pos}
		{VARIABLE hero_5 on_start_pos}
		{VARIABLE hero_7 on_start_pos}
		{VARIABLE hero_8 on_start_pos}

		[objectives]
			[objective]
				description= _ "Kill one guard of each opposing team"
				condition=win
			[/objective]
			[objective]
				description= _ "Death of one of your guards"
				condition=lose
			[/objective]
		[/objectives]
	[/event]

	[event]
		name=start
		{CW_MIRROR_REPLACE_3}

		{CW_KILL_SIDE 3}
		{CW_KILL_SIDE 6}
		{CW_KILL_SIDE 9}
		
		{CW_SET_CREEP_SPAWN_LOCATIONS cw_locations_creep_spawn}
		
		{CW_UNIT_GUARD_CREATE West 1 11  8 9}
		{CW_UNIT_GUARD_CREATE West 2  7 14 9}
		{CW_UNIT_GUARD_CREATE East 1 27 14 6}
		{CW_UNIT_GUARD_CREATE East 2 23  8 6}
		{CW_UNIT_GUARD_CREATE South 1 13 23 3}
		{CW_UNIT_GUARD_CREATE South 2 21 23 3}

		[message]
			caption=Welcome to Creep War!
			image="portraits/humans/transparent/general.png"
			message= _ {Start_Message_new_3}
			[/message]
		{Advance_To}
		{CW_SHOP  7  5  8 11 West  9 11  8  2  7 "North" "South" 1}
		{CW_SHOP 27 29  8 11 East  6 23  8 27 14 "South" "North" 2}
		{CW_SHOP 15 19 26 26 South 3 13 23 21 23 "West"  "East"  4}
		{CW_SHOP  7  5  8 11 West  9 11  8  2  7 "North" "South" 5}
		{CW_SHOP 27 29  8 11 East  6 23  8 27 14 "South" "North" 7}
		{CW_SHOP 15 19 26 26 South 3 13 23 21 23 "West"  "East"  8}

		{CW_HELP_MENU_3}
		{teleport_back_MI  9 10 1}
		{teleport_back_MI 26 11 2}
		{teleport_back_MI 16 23 4}
		{teleport_back_MI  8 11 5}
		{teleport_back_MI 25 10 7}
		{teleport_back_MI 18 23 8}
	[/event]

	{Post_Advance}

	[event]
		name=turn 2
		[+objectives]
			[objective]
				description= _ "For each enemy Team kill one of their Guards"
				condition=win
			[/objective]
			[objective]
				description= _ "Death of one of your Guards"
				condition=lose
			[/objective]
			note= _ {Start_Message_new_3}
			silent=yes
		[/objectives]
	[/event]
	[event]
		name=new turn
		first_time_only=no
		{VARIABLE CW_Guard_East1_healed  0}
		{VARIABLE CW_Guard_East2_healed  0}
		{VARIABLE CW_Guard_West1_healed  0}
		{VARIABLE CW_Guard_West2_healed  0}
		{VARIABLE CW_Guard_South1_healed 0}
		{VARIABLE CW_Guard_South2_healed 0}
	[/event]

	{teleport  9 10 1}
	{teleport 26 11 2}
	{teleport 16 23 4}
	{teleport  8 11 5}
	{teleport 25 10 7}
	{teleport 18 23 8}

	{hero_die_3 2 7 6 4 8 3 cw_kills_East East cw_kills_South South 1}
	{hero_die_3 2 7 6 4 8 3 cw_kills_East East cw_kills_South South 5}
	{hero_die_3 1 5 9 4 8 3 cw_kills_West West cw_kills_South South 2}
	{hero_die_3 1 5 9 4 8 3 cw_kills_West West cw_kills_South South 7}
	{hero_die_3 1 5 9 2 7 6 cw_kills_West West cw_kills_East East 4}
	{hero_die_3 1 5 9 2 7 6 cw_kills_West West cw_kills_East East 8}
	{creep_die_new_3 1 5 9 2 7 6 cw_kills_West West cw_kills_East East 3 creeps_to_spawn_S}
	{creep_die_new_3 1 5 9 4 8 3 cw_kills_West West cw_kills_South South 6 creeps_to_spawn_E}
	{creep_die_new_3 2 7 6 4 8 3 cw_kills_East East cw_kills_South South 9 creeps_to_spawn_W}
	{CW_EVENT_ATTACK_GUARD_3 1 5 9 2 7 6 cw_kills_West cw_kills_East West East 1 South 3}
	{CW_EVENT_ATTACK_GUARD_3 1 5 9 2 7 6 cw_kills_West cw_kills_East West East 2 South 3}
	{CW_EVENT_ATTACK_GUARD_3 1 5 9 4 8 3 cw_kills_West cw_kills_South West South 1 East 6}
	{CW_EVENT_ATTACK_GUARD_3 1 5 9 4 8 3 cw_kills_West cw_kills_South West South 2 East 6}
	{CW_EVENT_ATTACK_GUARD_3 2 7 6 4 8 3 cw_kills_East cw_kills_South East South 1 West 9}
	{CW_EVENT_ATTACK_GUARD_3 2 7 6 4 8 3 cw_kills_East cw_kills_South East South 2 West 9}
	{CW_Guard_die_new_3 1 5 9 2 7 6 4 8  7 2  9 2 16 2 18 2 creeps_to_spawn_S West East South 3}
	{CW_Guard_die_new_3 1 5 9 4 8 3 2 7  7 2  9 2 25 2 27 2 creeps_to_spawn_E West South East 6}
	{CW_Guard_die_new_3 2 7 6 4 8 3 1 5 16 2 18 2 25 2 27 2 creeps_to_spawn_W East South West 9}

	{CW_EVENT_CREEP_SPAWN}

#	{Enable_Ancient_Lich}
#	{Bank_interest}
[/multiplayer]
#undef CW_USE_THREE_TEAMS