#textdomain wesnoth-creep_war

#define CW_SHOP_SET_TEXT
		{VARIABLE cw_text_shop_enter	( _ "Enter Shop")}
		{VARIABLE cw_text_shop_leave	( _ "Leave Shop")}
		{VARIABLE cw_text_display_gold	( _ "Your gold")}
		{VARIABLE cw_text_menu_return	( _ "Back")}
		{VARIABLE cw_text_cost			( _ "Price")}
		{VARIABLE cw_text_menu_hero_title		( _ "Hero Enhancements")}
		{VARIABLE cw_text_menu_weapons_title	( _ "Buy Weapons")}
		{VARIABLE cw_text_menu_armor_title		( _ "Armor" )}
		{VARIABLE cw_text_menu_guard_title		( _ "Guard" )}
		{VARIABLE cw_text_display_armor_upgrades	( _ "Armor upgrades remaining" )}
		
#ifdef CW_USE_BANK
		{VARIABLE cw_text_menu_bank_title 	( _ "Bank" )}	
		{VARIABLE cw_text_display_gold_bank	( _ "Deposited gold")}
#endif
#ifdef CW_USE_TEAMLEADER
		{VARIABLE cw_text_menu_teamleader_title	( _ "Team Leader" )}
		{VARIABLE cw_text_healed_teamleader		( _ "Team Leader already healed" )}
#endif
#enddef

#define CW_SHOP_MENU_WHILE PARENT_MENU THIS_MENU
			[set_variable]
				name={PARENT_MENU}_menu_finished
				value=yes
			[/set_variable]
			[set_variable]
				name={THIS_MENU}_menu_finished
				value=no
			[/set_variable]
			[while]
				[variable]
					name={THIS_MENU}_menu_finished
					equals=no
				[/variable]
				[do]
					[redraw]
					[/redraw]
					[store_gold]
						side=$side_number
						variable=gold
					[/store_gold]
#enddef

#define CW_SHOP_SUBMENU_EXIT PARENT_MENU THIS_MENU TEXT
	[option]
		message={TEXT}
		[command]
			[set_variable]
				name={THIS_MENU}_menu_finished
				value=yes
			[/set_variable]
			[set_variable]
				name={PARENT_MENU}_menu_finished
				value=no
			[/set_variable]
		[/command]
	[/option]
#enddef

#define CW_SHOP_MENU_SPACER
	[option]
		message=" "
	[/option]
#enddef

#define CW_SHOP_MENU_END
				[/message]
			[/do]
		[/while]
	[/command]
#enddef

#define CW_SHOP_ENOUGH_GOLD AMOUNT
	[variable]
		name=gold
		greater_than_equal_to={AMOUNT}
	[/variable]
#enddef

#define CW_SHOP_NOT_ENOUGH_GOLD AMOUNT
	[variable]
		name=gold
		less_than={AMOUNT}
	[/variable]
#enddef

#define CW_SHOP_ITEM_BEGIN IMAGE TITLE PRICE
	[option]
		message={MENU_IMG_TXT {IMAGE} "<span color='#00FF00'>{TITLE}</span>
<span size='small'>$cw_text_cost: {PRICE} gold</span>"}
		[show_if]
			{CW_SHOP_ENOUGH_GOLD {PRICE}}
		[/show_if]
#enddef

#define CW_SHOP_ITEM_END IMAGE TITLE PRICE
	[/option]
	[option]
		message={MENU_IMG_TXT {IMAGE} "<span color='#FF0000'>{TITLE}</span>
<span size='small'>$cw_text_cost: {PRICE} gold</span>"}
		[show_if]
			{CW_SHOP_NOT_ENOUGH_GOLD {PRICE}}
		[/show_if]
	[/option]
#enddef

#define CW_SHOP_CHARGE_GOLD PRICE
	[gold]
		side=$side_number
		amount=-{PRICE}
	[/gold]
#enddef
